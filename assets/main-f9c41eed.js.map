{"version":3,"file":"main-f9c41eed.js","sources":["../../src/js/favorite/markup-text.js","../../src/img/svg/sprite.svg","../../src/js/favorite/slice-string.js","../../src/js/favorite/markup-list.js","../../firebase.js","../../src/js/utils/firebase.js","../../src/js/favorite/favorite.js","../../src/js/header.js","../../src/js/burger.js","../../src/js/authentication.js","../../src/js/api/apiSport.js","../../src/js/loader/loader.js","../../src/js/toasts/message.js","../../src/js/utils/firstLater.js","../../src/js/filter.js","../../src/js/pagination/pagination.js","../../src/js/exercises.js","../../src/js/search.js","../../src/js/modal-window/modal.js","../../src/js/sendEmail.js","../../src/js/quote.js","../../src/js/scrollToTopButton.js","../../src/js/modal-window/generation-to-modal.js","../../src/js/raiting.js","../../src/js/utils/localStor.js","../../src/js/exercises-right-part-filter.js"],"sourcesContent":["export function markupText() {\r\n  const list = document.querySelector('.filter-list-js');\r\n  list.classList.add('hidden-form');\r\n  const parentEl = document.querySelector('.wrap-js')\r\n  const subtitle = document.createElement('p');\r\n  subtitle.className = 'favorite-text';\r\n  parentEl.appendChild(subtitle);\r\n  subtitle.textContent =\"It appears that you haven`t added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.\"\r\n}\r\n","export default \"__VITE_ASSET__4192010f__\"","export const cutString = (text, sliceCut) => {\r\n  if (text.length <= sliceCut) {\r\n      return text\r\n  } else {\r\n      return `${text.slice(0,sliceCut)}...`\r\n  }\r\n}","import sprite from '../../img/svg/sprite.svg';\r\nimport {cutString} from './slice-string';\r\n\r\nexport function markupList(arr) {\r\n  const list = document.querySelector('.filter-list-js');\r\n  list.classList.remove('hidden-form');\r\n\r\n  if(arr.length > 6){\r\n    list.classList.add('scroll');\r\n  } else {\r\n    list.classList.remove('scroll');\r\n\r\n  }\r\n\r\n  const markup = arr\r\n    .map(\r\n      ({ _id, target, name, bodyPart, burnedCalories, time }) => `\r\n  <li class=\"favourites_list_item\" id=${_id}>\r\n    <div class=\"favourites_list_item_up\">\r\n      <div class=\"favourites_list_item_up_left\">\r\n        <span class=\"favourites_btn_workout\">${cutString(target, 6)}</span>\r\n        <button id=\"btnTrash\" class=\"favourites_btn_trash_icon favourites_btn_trash\" data-id=${_id}>\r\n          <svg class=\"favourites_btn_trash_icon\" width=\"16\" height=\"16\" aria-label=\"trash\" data-id=${_id}>\r\n            <use class=\"favourites_btn_trash_icon\" href=\"${sprite}#icon-trash\" data-id=${_id}></use>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <div class=\"favourites_list_item_up_right\">\r\n        <button class=\"favourites_btn_start\" data-id=${_id}>\r\n          <p class=\"favourites_btn_start_text\" data-id=${_id}>start</p>\r\n          <svg class=\"favourites_btn_start_icon\" width=\"16\" height=\"16\" aria-label=\"arrow\" data-id=${_id}>\r\n            <use href=\"${sprite}#icon-arrow\" data-id=${_id}></use>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"favourites_list_item_middle\">\r\n      <div class=\"favourites_list_item_middle_icon\">\r\n        <svg class=\"favourites_list_item_middle_icon_svg\">\r\n          <use href=\"${sprite}#icon-run-man\"></use>\r\n        </svg>\r\n      </div>\r\n      <h3 class=\"favourites_list_item_middle_title\">${cutString(name, 16)}</h3>\r\n    </div>\r\n    <div class=\"favourites_list_item_bottom\">\r\n      <ul class=\"favourites_list_item_bottom_list\">\r\n        <li class=\"favourites_list_item_bottom_list_item\">\r\n          <p class=\"favourites_list_item_bottom_list_item_text\">\r\n            Burned calories: <span>${burnedCalories}/${time}</span>\r\n          </p>\r\n        </li>\r\n        <li class=\"favourites_list_item_bottom_list_item\">\r\n          <p class=\"favourites_list_item_bottom_list_item_text\">\r\n            Body part: <span>${cutString(bodyPart, 5)}</span>\r\n          </p>\r\n        </li>\r\n        <li class=\"favourites_list_item_bottom_list_item\">\r\n          <p class=\"favourites_list_item_bottom_list_item_text\">Target: <span>${cutString(\r\n            target,\r\n            7\r\n          )}</span></p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </li>`\r\n    )\r\n    .join('');\r\n\r\n    list.innerHTML = markup;\r\n}\r\n","import { getApp, getApps,initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\n// TODO: Replace the following with your app's Firebase project configuration\r\nconst firebaseConfig = {\r\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\r\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\r\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\r\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: import.meta.env.VITE_FIREBASE_APP_ID,\r\n  measurementId: import.meta.env.VITE_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\nconsole.log(\"–£—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:\", import.meta.env);\r\n\r\n\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n\r\nexport default firebaseConfig;","import { collection, deleteDoc, doc, getDocs, setDoc } from 'firebase/firestore';\r\nimport { auth, db } from '../../../firebase';\r\n\r\nexport const updateFirestore = async card => {\r\n  const user = auth.currentUser;\r\n  if (user) {\r\n    try {\r\n      setDoc(doc(db, user.email, card._id), card);\r\n    } catch (er) {\r\n      console.log(er.message);\r\n    }\r\n  }\r\n  if (!user) {\r\n    return;\r\n  }\r\n};\r\n\r\nexport const deleteFavorites = async id => {\r\n  const user = localStorage.getItem('user');\r\n  if (user) {\r\n    try {\r\n      deleteDoc(doc(db, user, id));\r\n    } catch (er) {\r\n      console.log(er.message);\r\n    }\r\n  }\r\n  if (!user) {\r\n    return;\r\n  }\r\n};\r\n\r\nexport const listOfFavorites = async () => {\r\n  const user = localStorage.getItem('user');\r\n\r\n  const favorites = [];\r\n\r\n  if (!user) return;\r\n\r\n  const querySnapshot = await getDocs(collection(db, user));\r\n\r\n  querySnapshot.forEach(doc => {\r\n\r\n    favorites.push(doc.data());\r\n  });\r\n\r\n  localStorage.setItem('favorites', JSON.stringify(favorites));\r\n};\r\n","import { markupText } from './markup-text';\r\nimport {markupList} from './markup-list';\r\nimport { listOfFavorites } from '../utils/firebase';\r\n\r\n\r\n\r\n\r\nexport function addContent() {\r\n\r\n  listOfFavorites()\r\n\r\n  const favorites = JSON.parse(localStorage.getItem('favorites'));\r\n\r\n\r\n  if (!favorites?.length) {\r\n    markupText();\r\n    return;\r\n  }\r\n  markupList(favorites);\r\n}\r\n\r\n","import { addContent } from '../js/favorite/favorite'\r\n\r\nconst Home = document.getElementById(\"home\")\r\nconst Favorites = document.getElementById(\"favorites\")\r\nconst TextHome = document.getElementById(\"home-text\")\r\nconst TextFavorite = document.getElementById(\"favorites-text\")\r\nconst Nav = document.getElementById(\"navigation\")\r\nconst currentUrl = window.location.href.toString();\r\n\r\nlet part = currentUrl.slice(-14)\r\n\r\nexport const onClickPage = () => {\r\n\r\n   if (part === \"favorites.html\") {\r\n      Home.classList.remove(\"active\");\r\n      TextHome.classList.remove(\"black\");\r\n      Favorites.classList.add(\"active\");\r\n      TextFavorite.classList.add(\"black\");\r\n\r\n      addContent()\r\n   } else {\r\n      Home.classList.add(\"active\");\r\n      TextHome.classList.add(\"black\");\r\n      Favorites.classList.remove(\"active\");\r\n      TextFavorite.classList.remove(\"black\");\r\n }\r\n\r\n\r\n}\r\nonClickPage(part)","\r\nconst BurgerButton = document.getElementById(\"burger-button\");\r\nconst Burger = document.getElementById(\"burger\");\r\nconst BurgerCloseButton = document.getElementById(\"burger-button-close\")\r\n\r\n\r\n\r\nexport const openMenu = async() =>{\r\n    document.getElementById(\"header\").classList.remove(\"container\")\r\n    Burger.classList.remove(\"visually-hidden\");\r\n    document.body.classList.add(\"disable-scroll\");\r\n\r\n}\r\n\r\nexport const closeMenu = async(e) =>{\r\n    document.getElementById(\"header\").classList.add(\"container\")\r\n    Burger.classList.add(\"visually-hidden\");\r\n    document.body.classList.remove(\"disable-scroll\");\r\n\r\n}\r\nexport const closeEscape=(e)=>{\r\n    if (e.key === 'Escape') {\r\nBurger.classList.add(\"visually-hidden\");\r\n}\r\n\r\ndocument.body.classList.remove(\"disable-scroll\");\r\n}\r\n\r\ndocument.addEventListener(\"keydown\", closeEscape)\r\n\r\n","import { GoogleAuthProvider, signInWithPopup, signOut } from 'firebase/auth';\r\nimport { auth } from '../../firebase';\r\nimport { listOfFavorites } from './utils/firebase';\r\nimport { addContent } from './favorite/favorite';\r\n\r\nconst SingIn = document.getElementById('sign-in');\r\nconst SignOut = document.getElementById('sign-out');\r\nconst User = document.getElementById('user');\r\nUser.innerHTML = localStorage.getItem('user');\r\nconst currentUrl = window.location.href.toString();\r\n\r\nif (localStorage.getItem('user')) {\r\n  SignOut.classList.remove('display-none');\r\n  SingIn.classList.add('display-none');\r\n  SingIn.style.display = 'none';\r\n}\r\n","class ApiSportEnergy {\r\n    static BASE_URL = 'https://your-energy.b.goit.study/api';\r\n\r\n    static handleErrors(method) {\r\n        return async () => {\r\n            try {\r\n                return await method();\r\n            } catch (error) {\r\n                console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Ç—ñ: ', error.message);\r\n            }\r\n        };\r\n    }\r\nstatic async fetchJson(url, options) {\r\n  const response = await fetch(url, options);\r\n\r\n  // –Ø–∫—â–æ CORS/–º–µ—Ä–µ–∂–∞ ‚Äî —Å—é–¥–∏ –º–æ–∂–µ –Ω–∞–≤—ñ—Ç—å –Ω–µ –¥—ñ–π—Ç–∏, —Ç–æ–¥—ñ fetch –∫–∏–Ω–µ –ø–æ–º–∏–ª–∫—É\r\n  if (!response.ok) {\r\n    const text = await response.text().catch(() => '');\r\n    throw new Error(`HTTP ${response.status} ${response.statusText} | ${url} | ${text.slice(0, 200)}`);\r\n  }\r\n\r\n  // –Ω–µ –≤—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ JSON (–Ω–∞–ø—Ä. –ø–æ—Ä–æ–∂–Ω—è)\r\n  const contentType = response.headers.get('content-type') || '';\r\n  if (contentType.includes('application/json')) {\r\n    return response.json();\r\n  }\r\n  return response.text();\r\n}\r\n\r\n\r\n    async getQuotes() {\r\n        const wrappedMethod = ApiSportEnergy.handleErrors(async () => {\r\n            return await ApiSportEnergy.fetchJson(`${ApiSportEnergy.BASE_URL}/quote`);\r\n        });\r\n        return await wrappedMethod();\r\n    }\r\n\r\n    async getByFilterName(data) {\r\n    \r\n        const wrappedMethod = ApiSportEnergy.handleErrors(async () => {\r\n            const params = new URLSearchParams({ ...data });\r\n            return await ApiSportEnergy.fetchJson(`${ApiSportEnergy.BASE_URL}/filters?${params}`);\r\n        });\r\n        return await wrappedMethod();\r\n    }\r\n\r\n    async getByFilterCategory(data) {\r\n        const wrappedMethod = ApiSportEnergy.handleErrors(async () => {\r\n            const params = new URLSearchParams({ ...data });\r\n            return await ApiSportEnergy.fetchJson(`${ApiSportEnergy.BASE_URL}/exercises?${params}`);\r\n        });\r\n        return await wrappedMethod();\r\n    }\r\n\r\n    async getOneExercises(id) {\r\n        const wrappedMethod = ApiSportEnergy.handleErrors(async () => {\r\n            return await ApiSportEnergy.fetchJson(`${ApiSportEnergy.BASE_URL}/exercises/${id}`);\r\n        });\r\n        return await wrappedMethod();\r\n    }\r\n\r\n    async addExercisesRate(id, body) {\r\n        const wrappedMethod = ApiSportEnergy.handleErrors(async () => {\r\n            const requestOptions = {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(body),\r\n            };\r\n            return await ApiSportEnergy.fetchJson(\r\n                `${ApiSportEnergy.BASE_URL}/exercises/${id}/rating`,\r\n                requestOptions\r\n            );\r\n        });\r\n        return await wrappedMethod();\r\n    }\r\n\r\n    async addSubscription(email) {\r\n        const wrappedMethod = ApiSportEnergy.handleErrors(async () => {\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(email),\r\n            };\r\n            return await ApiSportEnergy.fetchJson(\r\n                `${ApiSportEnergy.BASE_URL}/subscription`,\r\n                requestOptions\r\n            );\r\n        });\r\n        return await wrappedMethod();\r\n    }\r\n}\r\n\r\nconst fetchSportEnergy = new ApiSportEnergy();\r\n\r\nexport default fetchSportEnergy;\r\n","class Loader {\r\n  static loaderEl = document.querySelector('.js-loader');\r\n  open() {\r\n\r\n    if (!Loader.loaderEl || Loader.loaderEl.classList.contains('js-loader')) {\r\n      Loader.loaderEl.style.display = 'block';\r\n    }\r\n  }\r\n  close() {\r\n    if (Loader.loaderEl) {\r\n      Loader.loaderEl.style.display = 'none';\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport const loader = new Loader();\r\n","import iziToast from 'izitoast';\r\n\r\niziToast.settings({\r\n  timeout: 3000,\r\n  resetOnHover: true,\r\n  icon: 'material-icons',\r\n  transitionIn: 'flipInX',\r\n  transitionOut: 'flipOutX',\r\n  position: 'topRight',\r\n\r\n});\r\n\r\nclass Message {\r\n  error(message) {\r\n    iziToast.error({\r\n      title: 'Error',\r\n      message,\r\n    });\r\n  }\r\n\r\n  success(message) {\r\n    iziToast.success({\r\n      title: 'OK',\r\n      message,\r\n    });\r\n  }\r\n\r\n  info(message) {\r\n    iziToast.info({\r\n      title: 'Info',\r\n      message,\r\n    });\r\n  }\r\n}\r\n\r\nexport const message = new Message();\r\n","export function capitalizeFirstLetter(string) {\r\n  if(!string) return;\r\n    return string[0].toUpperCase() + string.slice(1);\r\n}","import fetchSportEnergy from './api/apiSport';\r\nimport { message } from './toasts/message';\r\nimport * as pagination from './pagination/pagination';\r\nimport { capitalizeFirstLetter } from './utils/firstLater';\r\nimport { loader } from './loader/loader';\r\n\r\nconst categoryList = document.querySelector('.wrap-button');\r\nconst musclesList = document.querySelector('.muscles-list');\r\nconst paginationNumbers = document.querySelector('.pagination-numbers');\r\nconst exercisesTag = document.querySelector('.title-exercises');\r\n\r\nif (categoryList) {\r\n  categoryList.addEventListener('click', handleCategoryClick);\r\n}\r\n\r\n// ‚úÖ –ê–≤—Ç–æ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è \"Muscles\" –º–∞—î —Å–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ DOMContentLoaded –≤–∂–µ –±—É–≤\r\nconst initDefaultCategory = () => {\r\n  loadSectionOnClick({ filter: 'Muscles', page: 1, limit: 12 });\r\n};\r\n\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initDefaultCategory, { once: true });\r\n} else {\r\n  initDefaultCategory();\r\n}\r\n\r\nexport async function handleCategoryClick(event) {\r\n  event.preventDefault();\r\n\r\n  if (exercisesTag) exercisesTag.textContent = 'Exercises';\r\n\r\n  // ‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—à–µ –ª–æ–≤–∏—Ç–∏ –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ closest (–±–æ –∫–ª—ñ–∫ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ span/p —Ç–æ—â–æ)\r\n  const btn = event.target.closest('button[data-name]');\r\n  if (!btn || !categoryList?.contains(btn)) return;\r\n\r\n  // –ø—Ä–∏–±–∏—Ä–∞—î–º–æ active –∑ —É—Å—ñ—Ö\r\n  const buttons = categoryList.querySelectorAll('button');\r\n  buttons.forEach(b => b.classList.remove('btn-filter-active'));\r\n  btn.classList.add('btn-filter-active');\r\n\r\n  const categoryName = btn.dataset.name;\r\n\r\n  const dataFilter = {\r\n    filter: categoryName,\r\n    page: 1,\r\n    limit: 12,\r\n  };\r\n\r\n  if (musclesList) musclesList.innerHTML = '';\r\n\r\n  await loadSectionOnClick(dataFilter);\r\n}\r\n\r\nexport async function loadSectionOnClick(dataFilter) {\r\n  // —Ö–æ–≤–∞—î–º–æ —Ñ–æ—Ä–º—É –ø–æ—à—É–∫—É, –±–æ –º–∏ –∑–∞—Ä–∞–∑ –Ω–∞ —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å—Ç—Ä—ñ–≤\r\n  document.querySelector('.filter-list-js')?.classList.remove('exercises_list');\r\n  document.querySelector('.form-js')?.classList.add('hidden-form');\r\n\r\n  try {\r\n    loader.open();\r\n    const filter = await fetchSportEnergy.getByFilterName(dataFilter);\r\n\r\n    const filteredResult = filter?.results ?? [];\r\n    if (!filteredResult.length) {\r\n      message.error(\"Sorry, we didn't find anything according to your request.\");\r\n      return;\r\n    }\r\n\r\n    if (musclesList) {\r\n      musclesList.innerHTML = makeMarkupMuscles(filteredResult);\r\n    }\r\n\r\n    // LocalStorage –¥–ª—è –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó\r\n    const totalPages = filter?.totalPages ?? 1;\r\n    localStorage.setItem('infoRequest', JSON.stringify({ totalPages, categoryName: dataFilter.filter }));\r\n\r\n    document.querySelector('.filter-list-js')?.classList.add('muscles-list');\r\n\r\n    if (paginationNumbers) paginationNumbers.innerHTML = '';\r\n    pagination.getPaginationNumbers(totalPages, dataFilter);\r\n    pagination.setCurrentPage(1);\r\n  } catch (error) {\r\n    message.error(error?.message || String(error));\r\n  } finally {\r\n    loader.close();\r\n  }\r\n}\r\n\r\nexport function makeMarkupMuscles(filteredResult) {\r\n  return filteredResult\r\n    .map(({ filter, name, imgURL }) => {\r\n      let filterCurrent = (filter || '').toLocaleLowerCase().replaceAll(' ', '');\r\n      if (filterCurrent === 'bodyparts') filterCurrent = 'bodypart';\r\n\r\n      return `\r\n        <li class=\"muscles-item\" data-name=\"${name}\" data-filter=\"${filterCurrent}\">\r\n          <a href=\"\" class=\"muscles-link\" data-alt=\"${name}\">\r\n            <img loading=\"lazy\" class=\"muscles-image\" src=\"${imgURL}\" alt=\"${name}\" width=\"290\" height=\"242\">\r\n            <button class=\"muscles-box-menu\" type=\"button\">\r\n              <h3 class=\"muscles-small-title\">${capitalizeFirstLetter(name)}</h3>\r\n              <p class=\"muscles-text\">${filter}</p>\r\n            </button>\r\n          </a>\r\n        </li>\r\n      `;\r\n    })\r\n    .join('');\r\n}\r\n","import fetchSportEnergy from '../api/apiSport';\r\nimport * as filterBtn from '../filter';\r\nimport { makeMarkupCards } from '../exercises';\r\nimport { loader } from '../loader/loader';\r\n\r\n\r\nconst paginationNumbers = document.querySelector('.pagination-numbers');\r\nconst musclesList = document.querySelector('.muscles-list');\r\n\r\nlet currentPage = 1; //\r\n\r\ntry {\r\n  paginationNumbers.addEventListener('click', handleClick);\r\n  paginationNumbers.addEventListener('click', handlePageNumberClick);\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\nlet dataRequest;\r\nlet totalPages;\r\n\r\nasync function handleClick(e) {\r\n  const dataFilter = {\r\n    ...dataRequest,\r\n    page: e.target.textContent,\r\n  };\r\n  if (e.target.nodeName !== 'BUTTON') return;\r\n  if (dataFilter.page === currentPage) {\r\n    return;\r\n  }\r\n    if (dataFilter.filter) {\r\n      loader.open()\r\n    const filter = await fetchSportEnergy.getByFilterName(dataFilter);\r\n    loader.close();\r\n        const filteredResult = filter.results;\r\n    musclesList.innerHTML = filterBtn.makeMarkupMuscles(filteredResult);\r\n    } else {\r\n        loader.open();\r\n    const exercises = await fetchSportEnergy.getByFilterCategory(dataFilter);\r\n    loader.close();\r\n        makeMarkupCards(exercises);\r\n  }\r\n\r\n\r\n  currentPage = dataFilter.page;\r\n  handlePageNumberClick();\r\n}\r\n\r\nconst appendPageNumber = index => {\r\n  const pageNumber = document.createElement('button');\r\n  pageNumber.className = 'pagination-number';\r\n  pageNumber.innerHTML = index;\r\n  pageNumber.setAttribute('page-index', index);\r\n  pageNumber.setAttribute('aria-label', 'Page ' + index);\r\n  paginationNumbers.appendChild(pageNumber);\r\n};\r\n\r\nexport function getPaginationNumbers(pages, data) {\r\n  totalPages = pages;\r\n  dataRequest = data;\r\n  if (pages === 1) return;\r\n  for (let i = 1; i <= pages; i++) {\r\n    appendPageNumber(i);\r\n  }\r\n}\r\n\r\nfunction handlePageNumberClick() {\r\n\r\n  document.querySelectorAll('.pagination-number').forEach(button => {\r\n    const pageIndex = Number(button.getAttribute('page-index'));\r\n    if (pageIndex) {\r\n      button.addEventListener('click', () => {\r\n        setCurrentPage(pageIndex);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nexport function setCurrentPage(pageNum) {\r\n  currentPage = pageNum;\r\n\r\n  handlePageNumberClick();\r\n\r\n  document.querySelectorAll('.pagination-number').forEach(button => {\r\n    button.classList.remove('active');\r\n\r\n    const pageIndex = Number(button.getAttribute('page-index'));\r\n    if (pageIndex === currentPage) {\r\n      button.classList.add('active');\r\n    }\r\n  });\r\n}\r\n\r\n\r\n","import fetchSportEnergy from './api/apiSport';\r\nimport { loader } from './loader/loader';\r\nimport sprite from '../img/svg/sprite.svg';\r\n\r\nimport * as pagination from './pagination/pagination';\r\nimport { message } from './toasts/message';\r\nimport { cutString } from './favorite/slice-string';\r\nimport { capitalizeFirstLetter } from './utils/firstLater';\r\n\r\n\r\n\r\nconst paginationNumbers = document.querySelector('.pagination-numbers');\r\nconst list = document.querySelector('.filter-list-js');\r\n\r\nconst exercisesTag = document.querySelector('.title-exercises');\r\nlist.addEventListener('click', handlerClickFilterCards);\r\n\r\nexport async function handlerClickFilterCards(e) {\r\n  e.preventDefault();\r\n\r\n  const target = e.target;\r\n\r\n  // –®—É–∫–∞—î–º–æ –Ω–∞–π–±–ª–∏–∂—á–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑ data-filter (–∫–∞—Ä—Ç–æ—á–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó)\r\n  const filterEl = target.closest('[data-filter]');\r\n  if (!filterEl) return;\r\n\r\n  // –í–∏–∑–Ω–∞—á–∞—î–º–æ nameFilter –∑ data-filter\r\n  const nameFilter = filterEl.dataset.filter;\r\n\r\n  // –í–∏–∑–Ω–∞—á–∞—î–º–æ nameCard (–Ω–∞–∑–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó) –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–∞–¥—ñ–π–Ω–æ:\r\n  // 1) —è–∫—â–æ –∫–ª—ñ–∫ –ø–æ IMG ‚Äî –±–µ—Ä–µ–º–æ alt\r\n  // 2) —è–∫—â–æ –ø–æ —Ç–µ–∫—Å—Ç—É ‚Äî –±–µ—Ä–µ–º–æ data-alt –∑ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞\r\n  let nameCard = null;\r\n\r\n  if (target.nodeName === 'IMG') {\r\n    nameCard = target.alt;\r\n  } else {\r\n    const altEl = target.closest('[data-alt]');\r\n    nameCard = altEl?.dataset?.alt || null;\r\n  }\r\n\r\n  // —è–∫—â–æ –Ω–µ–º–∞—î –ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å ‚Äî –Ω–µ —Ä–æ–±–∏–º–æ –∑–∞–ø–∏—Ç\r\n  if (!nameFilter || !nameCard) return;\r\n  localStorage.setItem(\r\n  'infoRequest',\r\n  JSON.stringify({ filter: nameFilter, categoryName: nameCard })\r\n);\r\n\r\n  document.querySelector('.form-js')?.classList.remove('hidden-form');\r\n\r\n  const dataExercises = {\r\n    [nameFilter]: nameCard,\r\n    page: 1,\r\n    limit: 10,\r\n  };\r\n\r\n  // –≤–∏–ø—Ä–∞–≤–ª—è—î–º–æ spam->span —ñ id tagret->target\r\n  exercisesTag.innerHTML = `Exercises / <span class=\"search-target\" id=\"target-js\">${capitalizeFirstLetter(\r\n    nameCard\r\n  )}</span>`;\r\n\r\n  try {\r\n    loader.open();\r\n    const exercises = await fetchSportEnergy.getByFilterCategory(dataExercises);\r\n\r\n    if (exercises?.results?.length) {\r\n      list.classList.add('exercises_list');\r\n      list.classList.remove('muscles-list');\r\n\r\n      makeMarkupCards(exercises);\r\n\r\n      paginationNumbers.innerHTML = '';\r\n      const { totalPages } = exercises;\r\n\r\n      pagination.getPaginationNumbers(totalPages, dataExercises);\r\n      pagination.setCurrentPage(1);\r\n    } else {\r\n      message.info(\"Oops. please, try other category this list empty :(\");\r\n    }\r\n  } catch (er) {\r\n    message.error(er?.message || String(er));\r\n  } finally {\r\n    loader.close();\r\n  }\r\n}\r\n\r\nexport function makeMarkupCards(exercises) {\r\n  if (!exercises?.results?.length) return;\r\n\r\n  const markup = exercises.results\r\n    .map(({ _id, target, rating, name, burnedCalories, time, bodyPart }) => {\r\n      const safeRating = Number.isFinite(Number(rating))\r\n        ? Number(rating).toFixed(1)\r\n        : '‚Äî';\r\n\r\n      const safeTarget =\r\n        target?.toString().length > 8 ? target.slice(0, 8) + '...' : target;\r\n\r\n      const safeName =\r\n        name?.toString().length > 20 ? name.slice(0, 20) + '...' : name;\r\n\r\n      const safeBurned = burnedCalories ?? '';\r\n      const safeTime = time ?? 'your wish';\r\n\r\n      return `\r\n      <li class=\"exercises_list_item\" id=\"${_id}\">\r\n        <div class=\"exercises_list_item_up\">\r\n          <div class=\"exercises_list_item_up_left\">\r\n            <div class=\"exercises_workout\">${safeTarget}</div>\r\n\r\n            <p class=\"exercises_rating\">${safeRating}</p>\r\n\r\n            <div class=\"rating-container-not-cursore\">\r\n              <svg class=\"exercises_start_icon\" width=\"56\" height=\"18\" data-id=\"${_id}\">\r\n                <use xlink:href=\"${sprite}#icon-star\" data-id=\"${_id}\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"exercises_list_item_up_right\">\r\n            <button class=\"exercises_btn_start exercises_btn_start_text\" data-id=\"${_id}\">\r\n              Start\r\n              <div class=\"arrow-container\">\r\n                <svg class=\"exercises_btn_arrow_icon\" width=\"56\" height=\"18\" data-id=\"${_id}\">\r\n                  <use xlink:href=\"${sprite}#icon-arrow\" data-id=\"${_id}\"></use>\r\n                </svg>\r\n              </div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"exercises_list_item_middle\">\r\n          <div class=\"exercises_list_item_middle_icon\">\r\n            <svg class=\"exercises_list_item_middle_icon_svg\" width=\"24\" height=\"24\">\r\n              <use xlink:href=\"${sprite}#icon-run-man\"></use>\r\n            </svg>\r\n          </div>\r\n\r\n          <h3 class=\"exercises_list_item_middle_title\" id=\"name\">${safeName}</h3>\r\n        </div>\r\n\r\n        <div class=\"exercises_list_item_bottom\">\r\n          <ul class=\"exercises_list_item_bottom_list\">\r\n            <li class=\"exercises_list_item_bottom_list_item\">\r\n              <p class=\"exercises_list_item_bottom_list_item_text\">\r\n                Burned calories:\r\n                <span>${safeBurned} / ${safeTime} min</span>\r\n              </p>\r\n            </li>\r\n\r\n            <li class=\"exercises_list_item_bottom_list_item\">\r\n              <p class=\"exercises_list_item_bottom_list_item_text\">\r\n                Body part: <span>${cutString(bodyPart, 5)}</span>\r\n              </p>\r\n            </li>\r\n\r\n            <li class=\"exercises_list_item_bottom_list_item\">\r\n              <p class=\"exercises_list_item_bottom_list_item_text\">\r\n                Target: <span>${cutString(target, 7)}</span>\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </li>`;\r\n    })\r\n    .join('');\r\n\r\n  list.innerHTML = markup;\r\n}\r\n","import { makeMarkupCards } from './exercises';\r\nimport fetchSportEnergy from './api/apiSport';\r\nimport * as pagination from './pagination/pagination';\r\nimport { message } from './toasts/message';\r\nimport { loader } from './loader/loader';\r\n\r\nconst form = document.querySelector('.form-js');\r\nconst paginationNumbers = document.querySelector('.pagination-numbers');\r\n\r\nform.addEventListener('submit', handlerSearch);\r\n\r\nasync function handlerSearch(e) {\r\n  e.preventDefault();\r\n\r\n  const value = e.target.elements.search.value.trim().toLowerCase();\r\n  if (!value) return;\r\n\r\n  try {\r\n    loader.open();\r\n\r\n    // –±–µ—Ä–µ–º–æ –í–ï–õ–ò–ö–ò–ô —Å–ø–∏—Å–æ–∫ (–ø–µ—Ä—à–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –º–∞–∫—Å–∏–º—É–º)\r\n    const dataExercises = {\r\n      page: 1,\r\n      limit: 100, // –±–µ—Ä–µ–º–æ –±—ñ–ª—å—à–µ, —â–æ–± —à—É–∫–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ\r\n    };\r\n\r\n    const exercises = await fetchSportEnergy.getByFilterCategory(dataExercises);\r\n\r\n    if (!exercises?.results?.length) {\r\n      message.info('Nothing was found');\r\n      return;\r\n    }\r\n\r\n    // üî• –ì–û–õ–û–í–ù–ï: —Ñ—ñ–ª—å—Ç—Ä –ø–æ name\r\n    const filtered = exercises.results.filter(ex =>\r\n      ex.name.toLowerCase().includes(value)\r\n    );\r\n\r\n    if (!filtered.length) {\r\n      message.info('Nothing was found for this query');\r\n      paginationNumbers.innerHTML = '';\r\n      return;\r\n    }\r\n\r\n    const result = {\r\n      ...exercises,\r\n      results: filtered,\r\n      totalPages: 1,\r\n    };\r\n\r\n    makeMarkupCards(result);\r\n\r\n    paginationNumbers.innerHTML = '';\r\n    pagination.getPaginationNumbers(1, dataExercises);\r\n    pagination.setCurrentPage(1);\r\n\r\n    form.reset();\r\n\r\n  } catch (err) {\r\n    console.log(err);\r\n    message.error(err?.message || String(err));\r\n  } finally {\r\n    loader.close();\r\n  }\r\n}\r\n","export class Modal {\r\n  constructor() {\r\n    this.overlay = document.querySelector('.overlay');\r\n    this.modal = null;\r\n    this.closeButton = null;\r\n\r\n    this.closeButtonHandler = () => this.close();\r\n    this.escapeKeyHandler = event => this.closeEsc(event);\r\n    this.overlayClickHandler = event => this.closeBack(event);\r\n  }\r\n\r\n  open(content) {\r\n    if (!this.overlay) this.overlay = document.querySelector('.overlay');\r\n    if (!this.overlay) return;\r\n\r\n    this.overlay.innerHTML = content;\r\n\r\n    this.overlay.style.zIndex = 4;\r\n    this.overlay.style.display = 'flex';\r\n\r\n    this.modal =\r\n      this.overlay.querySelector('.modal-info') ||\r\n      this.overlay.querySelector('.modal-get-raiting');\r\n\r\n    this.modal?.classList.remove('visually-hidden');\r\n\r\n    this.closeButton = this.overlay.querySelector('.modal-button-close');\r\n\r\n    document.body.classList.add('no-scroll');\r\n\r\n    this.closeButton?.addEventListener('click', this.closeButtonHandler);\r\n    document.addEventListener('keydown', this.escapeKeyHandler);\r\n    this.overlay.addEventListener('click', this.overlayClickHandler);\r\n  }\r\n\r\n  close() {\r\n    if (!this.overlay) return;\r\n\r\n    this.modal?.classList.add('visually-hidden');\r\n\r\n    // Clear modal content to avoid stale DOM and handlers\r\n    this.overlay.innerHTML = '';\r\n\r\n    this.overlay.style.display = 'none';\r\n    this.overlay.style.zIndex = -1;\r\n\r\n    document.body.classList.remove('no-scroll');\r\n\r\n    this.closeButton?.removeEventListener('click', this.closeButtonHandler);\r\n    document.removeEventListener('keydown', this.escapeKeyHandler);\r\n    this.overlay.removeEventListener('click', this.overlayClickHandler);\r\n\r\n    this.modal = null;\r\n    this.closeButton = null;\r\n  }\r\n\r\n  closeEsc(event) {\r\n    if (event.key === 'Escape') this.close();\r\n  }\r\n\r\n  closeBack(event) {\r\n    if (event.target === this.overlay) this.close();\r\n  }\r\n}\r\n\r\nexport const myModal = new Modal();\r\n","import fetchSportEnergy from './api/apiSport';\r\nimport { loader } from './loader/loader';\r\nimport { message } from './toasts/message';\r\n\r\nconst form = document.querySelector('#subscribe-form');\r\nconst input = form.querySelector('#email');\r\n\r\nform.addEventListener('submit', handlerSendEmail);\r\n\r\nasync function handlerSendEmail(event) {\r\n  event.preventDefault();\r\n\r\n  const { value } = input;\r\n  const PATTERN = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\r\n  PATTERN.test(value);\r\n\r\n  if (!PATTERN.test(value)) {\r\n    message.info(\"Enter the following sample email - 'test@gmail.com'\");\r\n    input.value = '';\r\n    return;\r\n  }\r\n\r\n    try {\r\n      loader.open()\r\n    const result = await fetchSportEnergy.addSubscription({ email: value });\r\n        loader.close()\r\n        message.success(result.message);\r\n  } catch (error) {\r\n    console.log(error);\r\n  } finally {\r\n    input.value = '';\r\n  }\r\n\r\n}\r\n","import fetchSportEnergy from './api/apiSport';\r\nimport { loader } from './loader/loader';\r\n\r\nfunction getRefs() {\r\n  return {\r\n    quoteText: document.querySelector('.quote-text'),\r\n    quoteAuthor: document.querySelector('.quote-author'),\r\n  };\r\n}\r\n\r\nexport async function loadQuote() {\r\n  const { quoteText, quoteAuthor } = getRefs();\r\n\r\n  // –Ø–∫—â–æ –±–ª–æ–∫—É —Ü–∏—Ç–∞—Ç–∏ –Ω–µ–º–∞ –Ω–∞ —Ü—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–∏—Ö–æ–¥–∏–º–æ\r\n  if (!quoteText || !quoteAuthor) return;\r\n\r\n  const storageRaw = localStorage.getItem('quote');\r\n  const today = new Date().toDateString();\r\n\r\n  // 1) –Ø–∫—â–æ —î –∫–µ—à –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ ‚Äî –ø–æ–∫–∞–∑—É—î–º–æ –∑ –∫–µ—à—É\r\n  if (storageRaw) {\r\n    try {\r\n      const parsed = JSON.parse(storageRaw);\r\n      if (parsed?.date === today && parsed?.quote) {\r\n        quoteText.textContent = parsed.quote ?? '';\r\n        quoteAuthor.textContent = parsed.author ?? '';\r\n        return;\r\n      }\r\n    } catch (_) {\r\n      // —è–∫—â–æ storage –∑–ª–∞–º–∞–Ω–∏–π ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ–º–æ –Ω–∏–∂—á–µ\r\n    }\r\n  }\r\n\r\n  // 2) –Ü–Ω–∞–∫—à–µ ‚Äî —Ç—è–≥–Ω–µ–º–æ –∑ API\r\n  await fetchAndRenderQuote(quoteText, quoteAuthor);\r\n}\r\n\r\nasync function fetchAndRenderQuote(quoteText, quoteAuthor) {\r\n  try {\r\n    loader.open();\r\n    const res = await fetchSportEnergy.getQuotes();\r\n    if (!res) return;\r\n\r\n    const { author, quote } = res;\r\n\r\n    localStorage.setItem(\r\n      'quote',\r\n      JSON.stringify({\r\n        author: author ?? '',\r\n        quote: quote ?? '',\r\n        date: new Date().toDateString(),\r\n      })\r\n    );\r\n\r\n    quoteText.textContent = quote ?? '';\r\n    quoteAuthor.textContent = author ?? '';\r\n  } finally {\r\n    loader.close();\r\n  }\r\n}\r\n\r\n// ‚úÖ –í–∞–∂–ª–∏–≤–æ –¥–ª—è —Ç–≤–æ–≥–æ –≤–∏–ø–∞–¥–∫—É –∑ dynamic import –ø—ñ—Å–ª—è includePartials:\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', loadQuote, { once: true });\r\n} else {\r\n  loadQuote();\r\n}\r\n","import sprite from '../img/svg/sprite.svg';\r\n\r\nfunction scrollToTopButton() {\r\n  const button = document.createElement('button');\r\n  button.className = 'scroll-up-button hidden';\r\n  const svgIcon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n  svgIcon.setAttribute('viewBox', '0 0 32 32');\r\n  svgIcon.setAttribute('class', 'button-icon');\r\n\r\n  const useElement = document.createElementNS('http://www.w3.org/2000/svg', 'use');\r\n  useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', `${sprite}#icon-arrow`);\r\n  svgIcon.appendChild(useElement);\r\n\r\n  button.appendChild(svgIcon);\r\n\r\n  button.addEventListener('click', function () {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  });\r\n\r\n  document.addEventListener('scroll', function () {\r\n    if (window.scrollY > 50) {\r\n      button.classList.remove('hidden');\r\n    } else {\r\n      button.classList.add('hidden');\r\n    }\r\n  });\r\n\r\n  document.body.appendChild(button);\r\n}\r\n\r\nscrollToTopButton();\r\n\r\nexport default scrollToTopButton;\r\n","import sprite from '../../img/svg/sprite.svg';\r\nimport { capitalizeFirstLetter } from '../utils/firstLater';\r\n\r\nfunction safeNumber(value, fallback = 0) {\r\n  const n = Number(value);\r\n  return Number.isFinite(n) ? n : fallback;\r\n}\r\n\r\nfunction safeText(value, fallback = '‚Äî') {\r\n  if (value === null || value === undefined) return fallback;\r\n  const s = String(value).trim();\r\n  return s ? s : fallback;\r\n}\r\n\r\nfunction getRating(ratingRaw) {\r\n  const rating = safeNumber(ratingRaw, 0);\r\n  const fullStars = Math.floor(rating);\r\n  const fraction = rating - fullStars;\r\n  const lastStar = Math.round(fraction * 100); // 0..100\r\n\r\n  let result = '<div class=\"rating-container-not-cursore\" data-rating=\"0\">';\r\n\r\n  // 1) –ø–æ–≤–Ω—ñ –∑—ñ—Ä–∫–∏\r\n  for (let i = 1; i <= fullStars; i += 1) {\r\n    result += `<span class=\"star-js selected\" data-value=\"${i}\">\r\n      <svg class=\"exercises_btn_start_icon_modal star-js selected\">\r\n        <use xlink:href=\"${sprite}#icon-star\"></use>\r\n      </svg>\r\n    </span>`;\r\n  }\r\n\r\n  // 2) —á–∞—Å—Ç–∫–æ–≤–∞ –∑—ñ—Ä–∫–∞ (—è–∫—â–æ —Ç—Ä–µ–±–∞ —ñ —â–µ —î –º—ñ—Å—Ü–µ)\r\n  if (fullStars < 5 && lastStar > 0) {\r\n    const i = fullStars + 1;\r\n    result += `<span class=\"last-star-js\" data-value=\"${i}\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" viewBox=\"0 0 20 19\" fill=\"none\">\r\n        <path d=\"M9.04894 0.927052C9.3483 0.00574112 10.6517 0.00573993 10.9511 0.927051L12.4697 5.60081C12.6035 6.01284 12.9875 6.2918 13.4207 6.2918H18.335C19.3037 6.2918 19.7065 7.53141 18.9228 8.10081L14.947 10.9894C14.5966 11.244 14.4499 11.6954 14.5838 12.1074L16.1024 16.7812C16.4017 17.7025 15.3472 18.4686 14.5635 17.8992L10.5878 15.0106C10.2373 14.756 9.7627 14.756 9.41221 15.0106L5.43648 17.8992C4.65276 18.4686 3.59828 17.7025 3.89763 16.7812L5.41623 12.1074C5.55011 11.6954 5.40345 11.244 5.05296 10.9894L1.07722 8.10081C0.293507 7.53141 0.696283 6.2918 1.66501 6.2918H6.57929C7.01252 6.2918 7.39647 6.01284 7.53035 5.60081L9.04894 0.927052Z\" fill=\"url(#paint0_linear_126_18474)\"/>\r\n        <defs>\r\n          <linearGradient id=\"paint0_linear_126_18474\" x1=\"20\" y1=\"10\" x2=\"-1.99998\" y2=\"10.0209\" gradientUnits=\"userSpaceOnUse\">\r\n            <stop offset=\"${100 - lastStar}%\" stop-color=\"rgba(244, 244, 244, 0.20)\" />\r\n            <stop offset=\"${lastStar}%\" stop-color=\"#EEA10C\" />\r\n          </linearGradient>\r\n        </defs>\r\n      </svg>\r\n    </span>`;\r\n  }\r\n\r\n  // 3) –ø–æ—Ä–æ–∂–Ω—ñ –∑—ñ—Ä–∫–∏ –¥–æ 5\r\n  const used = fullStars + (fullStars < 5 && lastStar > 0 ? 1 : 0);\r\n  for (let i = used + 1; i <= 5; i += 1) {\r\n    result += `<span class=\"star-js\" data-value=\"${i}\">\r\n      <svg class=\"exercises_btn_start_icon_modal star-js\">\r\n        <use xlink:href=\"${sprite}#icon-star\"></use>\r\n      </svg>\r\n    </span>`;\r\n  }\r\n\r\n  return result + '</div>';\r\n}\r\n\r\nfunction getButtonFavorite(isFavorite) {\r\n  if (isFavorite) {\r\n    return `<button class=\"add-favorite-js\" type=\"button\" style=\"font-size: 14px;\">\r\n      <span class=\"remote-favorites\">Remove from favorites</span>\r\n      <svg class=\"trash-icon-img\" width=\"15\" height=\"15\" aria-label=\"trash-icon\">\r\n        <use href=\"${sprite}#icon-trash\"></use>\r\n      </svg>\r\n    </button>`;\r\n  }\r\n  return `<button class=\"add-favorite-js\" type=\"button\" style=\"font-size: 14px;\">\r\n    <span>Add to favorites</span>\r\n    <svg class=\"heart-icon-img\" width=\"20\" height=\"20\" aria-label=\"heart-icon\">\r\n      <use href=\"${sprite}#icon-heart\"></use>\r\n    </svg>\r\n  </button>`;\r\n}\r\n\r\nexport function getExerciseModal(data) {\r\n  const rating = safeNumber(data?.rating, 0);\r\n  const ratingText = Number.isFinite(rating) ? rating.toFixed(1) : '‚Äî';\r\n\r\n  return `<div class=\"modal-info\" data-id=\"${safeText(data?._id, '')}\">\r\n    <button class=\"modal-button-close\" id=\"button-close\">\r\n      <svg class=\"close-icon-img\" width=\"20\" height=\"20\" aria-label=\"close-icon\">\r\n        <use href=\"${sprite}#icon-close\"></use>\r\n      </svg>\r\n    </button>\r\n\r\n    <div class=\"modal-image-vrapper\">\r\n      <img loading=\"lazy\" class=\"modal-img\" src=\"${safeText(data?.gifUrl, '')}\" alt=\"${safeText(data?.name, 'exercise')}\" />\r\n    </div>\r\n\r\n    <div class=\"modal-content-wrapper\">\r\n      <div class=\"card-wrapper\">\r\n        <h3 class=\"title-card-modal\">${capitalizeFirstLetter(safeText(data?.name, ''))}</h3>\r\n        <div class=\"rating-modal-container-wrapper\">\r\n          <p>${ratingText}</p>\r\n          ${getRating(rating)}\r\n        </div>\r\n      </div>\r\n\r\n      <hr class=\"modal-decoration-line\" />\r\n\r\n      <ul class=\"modal-table\">\r\n        <li><h4 class=\"title-collum\">Target</h4><p class=\"data-collumn\">${safeText(data?.target)}</p></li>\r\n        <li><h4 class=\"title-collum\">Body Part</h4><p class=\"data-collumn\">${safeText(data?.bodyPart)}</p></li>\r\n        <li><h4 class=\"title-collum\">Equipment</h4><p class=\"data-collumn\">${safeText(data?.equipment)}</p></li>\r\n        <li><h4 class=\"title-collum\">Popular</h4><p class=\"data-collumn\">${safeText(data?.popularity)}</p></li>\r\n        <li><h4 class=\"title-collum\">Burned Calories</h4><p class=\"data-collumn\">${safeText(data?.burnedCalories, '')}/${safeText(data?.time, '')} min</p></li>\r\n      </ul>\r\n\r\n      <hr class=\"modal-decoration-line\" />\r\n\r\n      <p class=\"about-exercise\">${safeText(data?.description, '')}</p>\r\n\r\n      <div class=\"button-section-modal\">\r\n        <div class=\"refresh-button-js\" data-favorite=\"${!!data?.favorite}\">\r\n          ${getButtonFavorite(!!data?.favorite)}\r\n        </div>\r\n        <button class=\"add-rating\" type=\"button\" style=\"font-size: 14px;\">Give a rating</button>\r\n      </div>\r\n    </div>\r\n  </div>`;\r\n}\r\n\r\nexport function getRatingModal(idExercise) {\r\n  return `<div class=\"modal-get-raiting\" data-id=\"${safeText(idExercise, '')}\">\r\n    <button class=\"modal-button-close\" id=\"button-close\">\r\n      <svg class=\"close-icon-img\" width=\"20\" height=\"20\" aria-label=\"close-icon\">\r\n        <use href=\"${sprite}#icon-close\"></use>\r\n      </svg>\r\n    </button>\r\n\r\n    <div class=\"get-rating-container\">\r\n      <div class=\"get-rating-choise\">\r\n        <h3 class=\"title-card-get-rating\">Rating</h3>\r\n\r\n        <div class=\"rating-container-js rating-container\" data-rating=\"\" data-id=\"\">\r\n          <p class=\"user-rating-js\">0</p>\r\n          ${[1,2,3,4,5].map(i => `\r\n            <span class=\"star-js\" data-value=\"${i}\">\r\n              <svg class=\"exercises_btn_start_icon_rating star-js\" width=\"15\" height=\"15\">\r\n                <use xlink:href=\"${sprite}#icon-star\"></use>\r\n              </svg>\r\n            </span>\r\n          `).join('')}\r\n        </div>\r\n\r\n        <form class=\"form raiting-form\">\r\n          <label class=\"raiting-form-field\">\r\n            <input type=\"Email\" class=\"raiting-form-field-input\" name=\"user_email\" placeholder=\"Email\" required />\r\n          </label>\r\n\r\n          <label class=\"form-comment\">\r\n            <textarea class=\"raiting-form-field-comment\" name=\"user_comment\" placeholder=\"Your comment\"></textarea>\r\n          </label>\r\n\r\n          <button class=\"raiting-form-submit\" type=\"submit\">Send</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>`;\r\n}\r\n","export function createInteractiveRating() {\r\n    const ratingContainer = document.querySelector('.rating-container-js');\r\n    const stars = ratingContainer.querySelectorAll('.exercises_btn_start_icon_rating');\r\n    let userRating = ratingContainer.querySelector('.user-rating-js')\r\n\r\n    stars.forEach((star, index) => {\r\n        star.addEventListener('mouseover', () => highlightStars(index));\r\n        star.addEventListener('mouseout', resetStars);\r\n        star.addEventListener('click', () => setRating(index + 1));\r\n    });\r\n\r\n    function highlightStars(selectedIndex) {\r\n        resetStars();\r\n        for (let i = 0; i <= selectedIndex; i++) {\r\n            stars[i].classList.add('hovered');\r\n            userRating.textContent = `${i+1}`\r\n        }\r\n    }\r\n\r\n    function resetStars() {\r\n        stars.forEach(star => {\r\n            const ratingFromUser = ratingContainer.dataset.rating\r\n            star.classList.remove('hovered');\r\n            userRating.textContent = `${ratingFromUser || 0}`\r\n        });\r\n    }\r\n\r\n    function setRating(selectedRating) {\r\n        ratingContainer.setAttribute('data-rating', selectedRating);\r\n\r\n        stars.forEach((star, index) => {\r\n            if (index + 1 <= selectedRating) {\r\n                star.classList.add('selected');\r\n            } else {\r\n                star.classList.remove('selected');\r\n            }\r\n        });\r\n    }\r\n}","import { deleteFavorites, updateFirestore } from \"./firebase\";\r\n\r\nlet favoriteCards = [];\r\nconst localStorFavorites = JSON.parse(localStorage.getItem('favorites'));\r\nlocalStorFavorites?.length && favoriteCards.push(...localStorFavorites);\r\n\r\nexport function addLocalFavorites(card) {\r\n\r\n\r\n    updateFirestore(card)\r\n\r\n\r\n    favoriteCards.push(card);\r\n    localStorage.setItem('favorites', JSON.stringify(favoriteCards));\r\n\r\n}\r\n\r\nexport const deleteLocalFavorites = id => {\r\n\r\n    deleteFavorites(id)\r\n\r\n  favoriteCards = favoriteCards.filter(item => item._id !== id);\r\n\r\n  localStorage.setItem(\r\n    'favorites',\r\n    JSON.stringify([...favoriteCards])\r\n  );\r\n\r\n};","import { myModal } from './modal-window/modal';\r\nimport { getExerciseModal, getRatingModal } from './modal-window/generation-to-modal';\r\nimport { createInteractiveRating } from './raiting.js';\r\nimport fetchSportEnergy from '../js/api/apiSport';\r\nimport { addLocalFavorites, deleteLocalFavorites } from './utils/localStor';\r\nimport { message } from './toasts/message';\r\nimport sprite from '../img/svg/sprite.svg';\r\nimport { addContent } from './favorite/favorite.js'\r\nimport { loader } from './loader/loader';\r\n\r\n\r\nconst listExercises = document.querySelector('.filter-list-js');\r\nlet id = '';\r\nconst validNodeNames = ['BUTTON', 'svg', 'use', 'P'];\r\nlet addRatingButton;\r\nlet addFavoriteButton;\r\nlet sendRatingForm;\r\n\r\nasync function sendRatingHandler(event) {\r\n  event.preventDefault();\r\n  const exerciseID = document.querySelector('.modal-get-raiting').dataset.id;\r\n  const ratingContainer = document.querySelector('.rating-container-js');\r\n  const ratingFromUser = ratingContainer.dataset.rating;\r\n  const email = document.querySelector('.raiting-form-field-input').value;\r\n  const review = document.querySelector('.raiting-form-field-comment').value;\r\n  const request = {\r\n    rate: Number(ratingFromUser),\r\n    email,\r\n    review,\r\n    };\r\n    loader.open()\r\n  const response = await fetchSportEnergy.addExercisesRate(exerciseID, request);\r\n  loader.close()\r\n    if (response.message) {\r\n    message.error(`${response.message}`);\r\n  } else {\r\n    message.success(`Thank you for your mark - ${request.rate} for ${response.name}`);\r\n    myModal.close();\r\n  }\r\n}\r\n\r\nasync function getRatingHandler() {\r\n  const exerciseID = document.querySelector('.modal-info').dataset.id;\r\n  myModal.close();\r\n  myModal.open(getRatingModal(exerciseID));\r\n  createInteractiveRating();\r\n  sendRatingForm = document.querySelector('.raiting-form');\r\n  sendRatingForm.addEventListener('submit', sendRatingHandler);\r\n}\r\n\r\nasync function addFavoriteHandler(e) {\r\n  const favoriteButton = document.querySelector('.refresh-button-js');\r\n  const cardId = document.querySelector('.modal-info').dataset.id;\r\n  const currentUrl = window.location.href.toString();\r\n  let part = currentUrl.slice(-14)\r\n  if (favoriteButton.dataset.favorite === 'false') {\r\n    favoriteButton.innerHTML = `<button class=\"add-favorite-js\" type=\"button\">\r\n                                        <span class=\"remote-favorites\">Remove from favorites</span>\r\n                                        <svg class=\"trash-icon-img\" width=\"18\" height=\"18\" aria-label=\"trash-icon\">\r\n                                            <use href=\"${sprite}#icon-trash\"></use>\r\n                                        </svg>\r\n                                    </button>`;\r\n      favoriteButton.dataset.favorite = 'true';\r\n      loader.open();\r\n      let data = await fetchSportEnergy.getOneExercises(cardId);\r\n      loader.close();\r\n    addLocalFavorites(data);\r\n    if (part === 'favorites.html') {\r\n      addContent()\r\n    }\r\n  } else {\r\n    favoriteButton.innerHTML = `<button class=\"add-favorite-js\" type=\"button\">\r\n                                        <span>Add to favorites</span>\r\n                                        <svg class=\"heart-icon-img\" width=\"20\" height=\"20\" aria-label=\"heart-icon\">\r\n                                            <use href=\"${sprite}#icon-heart\"></use>\r\n                                        </svg>\r\n                                    </button>`;\r\n    favoriteButton.dataset.favorite = 'false';\r\n    deleteLocalFavorites(cardId);\r\n    if (part === 'favorites.html') {\r\n      addContent()\r\n    }\r\n  }\r\n}\r\n\r\nfunction getStartHandler(e) {\r\n  const target = e.target;\r\n\r\n  // 1) –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑ —Ñ–∞–≤–æ—Ä–∏—Ç—ñ–≤ (—ñ–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω–∏)\r\n  if (target.classList.contains('favourites_btn_trash_icon')) {\r\n    const cardId = target.dataset.id || target.closest('[data-id]')?.dataset?.id;\r\n    if (!cardId) return;\r\n    deleteLocalFavorites(cardId);\r\n    addContent();\r\n    return;\r\n  }\r\n\r\n  // 2) –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏ –ø–æ Start/—ñ–∫–æ–Ω–∫–∞—Ö –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ\r\n  // –ë–µ—Ä–µ–º–æ id –∑ –Ω–∞–π–±–ª–∏–∂—á–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, –¥–µ –≤—ñ–Ω —Å–ø—Ä–∞–≤–¥—ñ —î\r\n  const elWithId = target.closest('[data-id]');\r\n  const id = elWithId?.dataset?.id;\r\n\r\n  // –Ø–∫—â–æ id –Ω–µ–º–∞ ‚Äî –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ (—Ü–µ —ñ –ø—Ä–∏–±–∏—Ä–∞—î /undefined)\r\n  if (!id) return;\r\n\r\n  // –Ø–∫—â–æ —Ü–µ –∫–Ω–æ–ø–∫–∞ workout (—É —Ç–µ–±–µ —Ç–∞–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±—É–ª–∞) ‚Äî –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏\r\n  if (target.classList.contains('favourites_btn_workout')) return;\r\n\r\n  oneCard(id);\r\n}\r\nlistExercises.addEventListener('click', getStartHandler);\r\n\r\nconst oneCard = async (id) => {\r\n  if (!id) return;\r\n\r\n  let data;\r\n  try {\r\n    loader.open();\r\n    data = await fetchSportEnergy.getOneExercises(id);\r\n  } catch (err) {\r\n    message.error(err?.message || String(err));\r\n    return;\r\n  } finally {\r\n    loader.close();\r\n  }\r\n\r\n  // —è–∫—â–æ API –ø–æ–≤–µ—Ä–Ω—É–ª–æ –Ω—ñ—á–æ–≥–æ ‚Äî –Ω–µ –ø–∞–¥–∞—î–º–æ\r\n  if (!data) {\r\n    message.error('Exercise not found or request failed');\r\n    return;\r\n  }\r\n\r\n  // –±–µ–∑–ø–µ—á–Ω–µ —á–∏—Ç–∞–Ω–Ω—è localStorage favorites\r\n  let isFav = false;\r\n  try {\r\n    const favoriteData = localStorage.getItem('favorites');\r\n    const favoriteObject = favoriteData ? JSON.parse(favoriteData) : [];\r\n    isFav = Array.isArray(favoriteObject) && favoriteObject.some(item => item?._id === id);\r\n  } catch {\r\n    isFav = false;\r\n  }\r\n\r\n  data.favorite = isFav;\r\n\r\n  myModal.open(getExerciseModal(data));\r\n\r\n  addFavoriteButton = document.querySelector('.refresh-button-js');\r\n  addRatingButton = document.querySelector('.add-rating');\r\n\r\n  if (addRatingButton) addRatingButton.addEventListener('click', getRatingHandler);\r\n  if (addFavoriteButton) addFavoriteButton.addEventListener('click', addFavoriteHandler);\r\n};\r\n"],"names":["markupText","parentEl","subtitle","sprite","cutString","text","sliceCut","markupList","arr","list","markup","_id","target","name","bodyPart","burnedCalories","time","firebaseConfig","app","initializeApp","auth","getAuth","db","getFirestore","updateFirestore","card","user","setDoc","doc","er","deleteFavorites","id","deleteDoc","listOfFavorites","favorites","getDocs","collection","addContent","Home","Favorites","TextHome","TextFavorite","currentUrl","part","onClickPage","Burger","closeEscape","SingIn","SignOut","User","_ApiSportEnergy","method","error","url","options","response","data","params","body","requestOptions","email","ApiSportEnergy","__publicField","fetchSportEnergy","_Loader","Loader","loader","iziToast","Message","message","capitalizeFirstLetter","string","categoryList","musclesList","paginationNumbers","exercisesTag","handleCategoryClick","initDefaultCategory","loadSectionOnClick","event","btn","b","dataFilter","_a","_b","filter","filteredResult","makeMarkupMuscles","totalPages","_c","pagination.getPaginationNumbers","pagination.setCurrentPage","imgURL","filterCurrent","currentPage","handleClick","handlePageNumberClick","dataRequest","filterBtn.makeMarkupMuscles","exercises","makeMarkupCards","appendPageNumber","index","pageNumber","getPaginationNumbers","pages","i","button","pageIndex","setCurrentPage","pageNum","handlerClickFilterCards","filterEl","nameFilter","nameCard","altEl","dataExercises","rating","safeRating","safeTarget","safeName","form","handlerSearch","value","filtered","ex","result","err","Modal","content","myModal","input","handlerSendEmail","getRefs","loadQuote","quoteText","quoteAuthor","storageRaw","today","parsed","fetchAndRenderQuote","res","author","quote","scrollToTopButton","svgIcon","useElement","safeNumber","fallback","n","safeText","getRating","ratingRaw","fullStars","fraction","lastStar","used","getButtonFavorite","isFavorite","getExerciseModal","ratingText","getRatingModal","idExercise","createInteractiveRating","ratingContainer","stars","userRating","star","highlightStars","resetStars","setRating","selectedIndex","ratingFromUser","selectedRating","favoriteCards","localStorFavorites","addLocalFavorites","deleteLocalFavorites","item","listExercises","addRatingButton","addFavoriteButton","sendRatingForm","sendRatingHandler","exerciseID","review","request","getRatingHandler","addFavoriteHandler","favoriteButton","cardId","getStartHandler","elWithId","oneCard","isFav","favoriteData","favoriteObject"],"mappings":"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"}